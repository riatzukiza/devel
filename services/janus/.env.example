API_GATEWAY_HOST=127.0.0.1
API_GATEWAY_PORT=8788

# Upstream services
OPENPLANNER_URL=http://127.0.0.1:7777
OPENCODE_URL=http://127.0.0.1:4096
WORKSPACE_ROOT=/absolute/path/to/workspace
MCP_FS_OAUTH_URL=http://127.0.0.1:3001

# Service-to-service bearer keys used by Janus when proxying.
# These MUST match what upstream services expect.
OPENPLANNER_API_KEY=change-me
OPENCODE_API_KEY=

# Optional extra MCP service routing (JSON object)
# MCP_SERVICE_URLS={"fs-oauth":"http://127.0.0.1:3001"}
# MCP_FS_OAUTH_DEV_URL=http://127.0.0.1:3002
# MCP_INTERNAL_SHARED_SECRET=

# Gateway OAuth policy
OAUTH_ENABLED=false
OAUTH_ISSUER=http://localhost:3001
OAUTH_AUDIENCE=api-gateway
OAUTH_TOKEN_STRATEGY=opaque

# Opaque verifier mode:
# - redis: Janus verifies opaque tokens directly from Redis
# - introspection: Janus calls an upstream introspection endpoint
OAUTH_OPAQUE_VERIFIER=redis

# Redis settings used when OAUTH_OPAQUE_VERIFIER=redis
OAUTH_REDIS_URL=redis://127.0.0.1:6379
OAUTH_REDIS_PREFIX=oauth
# OAUTH_REDIS_HOST=127.0.0.1
# OAUTH_REDIS_PORT=6379

# Used only when OAUTH_OPAQUE_VERIFIER=introspection
OAUTH_OPAQUE_INTROSPECTION_URL=http://127.0.0.1:3001/internal/oauth/introspect
# Optional override; defaults to MCP_INTERNAL_SHARED_SECRET when set.
# OAUTH_OPAQUE_SHARED_SECRET=
# Comma-separated required scopes for protected routes.
OAUTH_REQUIRED_SCOPES=mcp
ALLOWED_HOSTS=localhost,127.0.0.1
