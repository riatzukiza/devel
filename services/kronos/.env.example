# =============================================================================
# MCP Server Environment Template
# =============================================================================
# Copy this file to packages/mcp/.env (gitignored) and customize values locally.
# Never commit secrets or production credentials.
# =============================================================================

# -----------------------------------------------------------------------------
# Core authentication defaults
# -----------------------------------------------------------------------------
MCP_DEFAULT_ROLE=user
MCP_STRICT_MODE=true
MCP_REQUIRE_AUTH_DANGEROUS=true
MCP_SESSION_TIMEOUT=60
MCP_ENABLE_AUDIT=true
MCP_RATE_LIMIT_RPM=100
MCP_RATE_LIMIT_DANGEROUS_PH=10
MCP_ADMIN_IP_WHITELIST=127.0.0.1,::1

# Optional API key registry (JSON string)
# MCP_API_KEYS='{"connector-key":{"name":"Connector","userId":"connector","role":"user","permissions":["*"]}}'

# -----------------------------------------------------------------------------
# OAuth toggle + routing
# -----------------------------------------------------------------------------
OAUTH_ENABLED=false
OAUTH_REDIRECT_URI=http://localhost:3210/auth/oauth/callback
OAUTH_AUTO_CREATE_USERS=true
OAUTH_DEFAULT_ROLE=user
OAUTH_ENABLE_USER_SYNC=true
OAUTH_SYNC_INTERVAL=3600
OAUTH_CONFIG_PATH=
OAUTH_COOKIE_DOMAIN=
OAUTH_SECURE_COOKIES=false
OAUTH_SAME_SITE_POLICY=lax

# GitHub OAuth
OAUTH_GITHUB_ENABLED=false
OAUTH_GITHUB_CLIENT_ID=
OAUTH_GITHUB_CLIENT_SECRET=
OAUTH_GITHUB_ALLOW_SIGNUP=true

# Google OAuth
OAUTH_GOOGLE_ENABLED=false
OAUTH_GOOGLE_CLIENT_ID=
OAUTH_GOOGLE_CLIENT_SECRET=
OAUTH_GOOGLE_HOSTED_DOMAIN=
OAUTH_GOOGLE_PROMPT=consent

# OAuth JWT settings
OAUTH_JWT_SECRET=your_very_long_and_secure_jwt_secret_at_least_32_chars
OAUTH_JWT_ISSUER=promethean-mcp
OAUTH_JWT_AUDIENCE=promethean-mcp-clients
OAUTH_JWT_ACCESS_EXPIRY=3600
OAUTH_JWT_REFRESH_EXPIRY=2592000
OAUTH_JWT_ALGORITHM=HS256

# -----------------------------------------------------------------------------
# User registry storage
# -----------------------------------------------------------------------------
MCP_USER_REGISTRY_PATH=./data/users
MCP_USER_REGISTRY_ENABLE_CUSTOM_ROLES=true
MCP_USER_REGISTRY_ENABLE_ACTIVITY_LOGGING=true
MCP_USER_REGISTRY_SESSION_TIMEOUT=3600
MCP_USER_REGISTRY_MAX_SESSIONS=5
MCP_USER_REGISTRY_ENABLE_SEARCH=true
MCP_USER_REGISTRY_DEFAULT_ROLE=user
MCP_USER_REGISTRY_AUTO_ACTIVATE=true

# -----------------------------------------------------------------------------
# File sandbox + tooling
# -----------------------------------------------------------------------------
MCP_ROOT_PATH=./
MCP_CONSOLE_ORIGIN=http://localhost:3210
